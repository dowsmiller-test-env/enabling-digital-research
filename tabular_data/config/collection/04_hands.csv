section,heading,xpath,auth_file,auth_section,auth_col,separator,format,comment
metadata,hand UID,"for $h in (//tei:handNote) return concat($h/ancestor::tei:TEI/tei:teiHeader/tei:fileDesc/tei:publicationStmt/tei:idno[@type=""msID""], ""_hand_"", count($h/preceding::tei:handNote) + 1)",,,,,text,"A unique identifier for the hand note, generated by concatenating the identifier given to the manuscript with which the hand is associated with a count of how many handNote elements precede the current element in the entry file."
metadata,file URL,"for $h in (//tei:handNote) return string-join($h/ancestor::tei:TEI/@xml:id, """")",,,,,text,"A unique identifier for the catalogue file, given in the xml:id attribute to the TEI root element."
metadata,collection,"for $h in (//tei:handNote) return string-join($h/ancestor::tei:TEI/tei:teiHeader/tei:fileDesc/tei:publicationStmt/tei:idno[@type=""collection""][not(@subtype=""alt"")][not(@subtype=""alt"")]/string-join(.,""""), "" "")",,,,,text,"The collection in which the manuscript is recorded, given in an idno element within the publicationStmt element which has @type ""collection"" and is not an alternative identifier (and therefore has no @subtype with ""alt"")."
metadata,ms ID,"for $h in (//tei:handNote) return string-join($h/ancestor::tei:TEI/tei:teiHeader/tei:fileDesc/tei:publicationStmt/tei:idno[@type=""msID""][not(@subtype=""alt"")]/string-join(.,""""), "" "")",,,,,text,"The identifier given to the manuscript, given in an idno element within the publicationStmt element which has @type ""msID"" and is not an alternative identifier (and therefore has no @subtype with ""alt"")."
metadata,shelfmark,"for $h in (//tei:handNote) return string-join($h/ancestor::tei:TEI/tei:teiHeader/tei:fileDesc/tei:sourceDesc/tei:msDesc/tei:msIdentifier/tei:idno[@type=""shelfmark""][not(@subtype=""alt"")]/string-join(.,""""), "" "")",,,,,text,"The shelfmark given to the manuscript, given in an idno element within the publicationStmt element which has @type ""shelfmark"" and is not an alternative identifier (and therefore has no @subtype with ""alt"")."
metadata,ms type,"for $h in (//tei:handNote) return string-join($h/(ancestor::tei:msPart[not(@type=('fragment','wrapper','flyleaf'))]/('part'),ancestor::tei:msPart[@type=('fragment','wrapper','flyleaf')]/('fragment'),ancestor::tei:msDesc[not(.//tei:msPart)]/('manuscript'),ancestor::tei:msDesc[.//tei:msPart[not(@type=('fragment','wrapper','flyleaf'))]]/('manuscript-composite'),ancestor::tei:msDesc[.//tei:msPart and not(.//tei:msPart[not(@type=('fragment','wrapper','flyleaf'))])]/('manuscript-with-fragment'))[1], "" "")",,,,,text,"Whether the current row concerns a fragment ('fragment'), a manuscript part ('part'), an entire manuscript ('manuscript'), a manuscript containing parts ('manuscript-composite') or a manuscript containing fragments ('manuscript-with-fragment'). "
metadata,part name,"for $h in (//tei:handNote) return string-join($h/(ancestor::tei:msPart|ancestor::tei:msDesc)[last()]//tei:idno[@type=""part""][not(@subtype=""alt"")]/string-join(.,""""), "" "")",,,,,text,"The identifier given to the manuscript or manuscript part in an idno element which has @type ""part"" and is not an alternative identifier (and therefore has no @subtype with ""alt"")."
metadata,part ID,"for $h in (//tei:handNote) return string-join($h/(ancestor::tei:msPart|ancestor::tei:msDesc)[last()]/@xml:id, "" "")",,,,,text,"The identifier given to the manuscript or manuscript part in an xml:id attribute. If the current row is not for a fragment or a manuscript part, this column will be the same as the metadata: ID column."
overview,hands,"for $h in (//tei:handNote) return normalize-space(string-join($h, """"))",,,,,text,"An overview of the current hand, as encoded within the handDesc element."
overview,total hands,"for $h in (//tei:handNote) return string-join($h/ancestor::tei:handDesc/@hands, "" "")",,,,,number,"The total number of hands contained within the manuscript or manuscript part with which this row is associated, as given in the @hands attribute to an ancestor handDesc element."
person,scribe ref,"for $h in (//tei:handNote) return string-join($h/@scribe, "" "")",,,,,text,"The identifier assigned to the hand in its containing manuscript or manuscript part, as given in the @scribe attribute to the handDesc element. These will not necessarily be unique across a single catalogue file."
person,hand ID,"for $h in (//tei:handNote) return string-join($h/@xml:id, "" "")",,,,,text,"The identifier assigned to the hand in its containing manuscript or manuscript part, as given in the @xml:id attribute to the handDesc element. These will be unique across a single catalogue file, but may not be unique across the catalogue as a whole."
person,person(s),"for $h in (//tei:handNote) return normalize-space(string-join($h//tei:persName[contains(@role,""scr"")], ""; ""))",,,,,text,"Details of any person(s) associated with the hand and encoded within a persName element. This is often used to identify the scribe, but may not always be."
person,person ID(s),"for $h in (//tei:handNote) return string-join(distinct-values($h//tei:persName[contains(@role,""scr"")]/@key), "" "")",,,,,text,"The identifier(s), corresponding to those found in the authority file, given for any person(s) associated with the hand and encoded within a persName element."
locus,scope,"for $h in (//tei:handNote) return string-join($h/@scope, "" "")",,,,,text,"The scope of the hand within the manuscript or manuscript part. Common values are 'major', 'minor', and 'sole'."
locus,n,"for $h in (//tei:handNote) return string-join(string(count($h//tei:locus)[.>0]),"""")",,,,,number,"An integer count of the number of locus ranges associated with this hand, calculated by counting the number of locus elements in the handDesc element."
locus,locus,"for $h in (//tei:handNote) return normalize-space(string-join($h//tei:locus[text()]/string-join(.,""""), ""; ""))",,,,,text,"Details of any locus information for this feature encoded within a locus element. When multiple loci are given, they are separated using a semi-colon."
locus,from,"for $h in (//tei:handNote) return string-join($h//tei:locus/@from, "" "")",,,,,number,"The folio, page, or membrane reference at which this feature begins, as encoded within the @from attribute to a locus element. Where multiple loci are given, they are separated by a space."
locus,to,"for $h in (//tei:handNote) return string-join($h//tei:locus/(@to|@from)[last()], "" "")",,,,,number,"The folio, page, or membrane reference at which this feature ends, as encoded within the @to attribute to a locus element. Where multiple loci are given, they are separated by a space."
date,date,"for $h in (//tei:handNote) return normalize-space(string-join($h//tei:date/string-join(.,""""), ""; ""))",,,,,date,"Details of the date associated with this feature, as encoded within a date element. This value may be given in a standardised date format, or as text."
date,when,"for $h in (//tei:handNote) return string-join($h//tei:date/@when, "" "")",,,,,date,"The date associated with this feature, formatted as a date, as encoded within the @when attribute of a date element."
date,not before,"for $h in (//tei:handNote) return string-join($h//tei:date/(@notBefore|@from|@when)[last()], "" "")",,,,,date,"The terminus post quem associated with this feature, formatted as a date, as encoded within the @notBefore attribute of a date element."
date,not after,"for $h in (//tei:handNote) return string-join($h//tei:date/(@notAfter|@to|@when)[last()], "" "")",,,,,date,"The terminus ante quem associated with this feature, formatted as a date, as encoded within the @notAfter attribute of a date element."
date,certainty,"for $h in (//tei:handNote) return string-join(distinct-values($h//tei:date/@cert), "" "")",,,,,text,"The certainty of the dating in the preceding columns, as encoded within the @cert attribute attribute of a date element. Possible values are high, medium, and low."
date,calendar,"for $h in (//tei:handNote) return string-join(distinct-values($h//tei:date/@calendar), "" "")",,,,,text,"The calendar used for the dating in the preceding columns, as encoded within the @calendar attribute of a date element. The most common value is Gregorian."
palaeography,script,"for $h in (//tei:handNote) return string-join($h/@script, "" "")",,,,,text,"Details of the script type assigned to the current hand, contained within the @script element to the handNote element. Common values include Anglicana, capitalsSquare, capitalsRustic, uncial, halfUncial, minusculeInsular, minusculeVernacular (for English vernacular minuscule or Anglo-Saxon minuscule), minusculeCaroline (for both English and continental variants), minuscule (for other forms e.g. Beneventan, Luxeuil, etc.), protogothic (‘praegothica’), textualisNorthern, textualisSouthern, semitextualis, cursivaAntiquior (‘anglicana’, ‘anglicana formata‘, etc.), cursiva (‘cancelleresca’, ‘bastarda’, ‘lettre batarde’, ‘secretary’), hybrida (‘semihybrida’, ‘loopless bastarda’, ‘fractura’, ‘mercantesca’), gothicoAntiqua (‘fere-humanistica’, ‘gothico-humanistica’), humanisticaTextualis, humanisticaSemitextualis, and humanisticaCursiva."
palaeography,execution,"for $h in (//tei:handNote) return string-join($h/@execution, "" "")",,,,,text,"Details of the execution of the current hand, contained within the @execution element to the handNote element. Common values include formata, libraria, and currens."
palaeography,medium,"for $h in (//tei:handNote) return string-join($h/@medium,  "" "")",,,,,text,"Details of the the tint or type of ink or other writing medium of the current hand, contained within the @medium attribute to the handNote element. Common values include ink, pencil, and colours (e.g. brown)."
palaeography,terms,"for $h in (//tei:handNote) return normalize-space(string-join($h//tei:term/string-join(.,""""), ""; ""))",,,,,text,"Technical terms used in the description of the hand, and encoded within a term element. Values often contain information about script types and writing media."
palaeography,desc,"for $h in (//tei:handNote) return normalize-space(string-join($h//tei:p[contains(@n, ""desc"")]/string-join(.,""""), ""; ""))",,,,,text,"A prose description of the features of this hand, encoded within a p element with an @n attribute containing 'desc'."
palaeography,char,"for $h in (//tei:handNote) return normalize-space(string-join($h//tei:p[contains(@n, ""char"")]/string-join(.,""""), ""; ""))",,,,,text,"Information given about characters of note for this hand, encoded within a p element with an @n attribute containing 'char'."
palaeography,characters,"for $h in (//tei:handNote) return normalize-space(string-join(distinct-values($h//tei:q[contains(@type, ""character"")][string-length() <= 2]/string-join(.,"""")), "" ""))",,,,,text,"Individual characters or character pairs, separated by a space, which are referenced in the character notes given in the preceding column."
palaeography,ligature,"for $h in (//tei:handNote) return normalize-space(string-join($h//tei:p[contains(@n, ""ligature"")]/string-join(.,""""), ""; ""))",,,,,text,"Information given about ligatures of note for this hand, encoded within a p element with an @n attribute containing 'ligature'."
palaeography,abbreviations,"for $h in (//tei:handNote) return normalize-space(string-join($h//tei:p[contains(@n, ""abbreviation"")]/string-join(.,""""), ""; ""))",,,,,text,"Information given about abbreviations of note for this hand, encoded within a p element with an @n attribute containing 'abbreviation'."
palaeography,corrections,"for $h in (//tei:handNote) return normalize-space(string-join($h//tei:p[contains(@n, ""correction"")]/string-join(.,""""), ""; ""))",,,,,text,"Information given about corrections of note for this hand, encoded within a p element with an @n attribute containing 'correction'."
palaeography,punctuation,"for $h in (//tei:handNote) return normalize-space(string-join($h//tei:p[contains(@n, ""punctuation"")]/string-join(.,""""), ""; ""))",,,,,text,"Information given about punctuation of note for this hand, encoded within a p element with an @n attribute containing 'punctuation'."
palaeography,nota,"for $h in (//tei:handNote) return normalize-space(string-join($h//tei:p[contains(@n, ""nota"")]/string-join(.,""""), ""; ""))",,,,,text,"Information given about punctuation of note for this hand, encoded within a p element with an @n attribute containing 'punctuation'."
palaeography,language,"for $h in (//tei:handNote) return normalize-space(string-join($h//tei:p[contains(@n, ""language"")]/string-join(.,""""), ""; ""))",,,,,text,"Information given about litterae notabiliores of note for this hand, encoded within a p element with an @n attribute containing 'nota'."