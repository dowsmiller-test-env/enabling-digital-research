section,heading,xpath,auth_file,auth_section,auth_col,separator,format,comment
metadata,item UID,"for $i in (//tei:msItem) return concat($i/ancestor::tei:TEI/tei:teiHeader/tei:fileDesc/tei:publicationStmt/tei:idno[@type=""msID""], ""_item_"", count($i/preceding::tei:msItem) + 1)",,,,,text,"A unique identifier for the item, generated by concatenating the identifier given to the manuscript with which the item is associated with a count of how many msItem elements precede the current element in the entry file."
metadata,item ID,"for $i in (//tei:msItem) return string-join($i/@xml:id, "" "")",,,,,text,"The identifier assigned to the item in its containing manuscript or manuscript part, as given in the @xml:id attribute to the msItem element. These will be unique across a single catalogue file, but may not be unique across the catalogue as a whole."
metadata,item n,"for $i in (//tei:msItem) return string-join($i/@n, "" "")",,,,,number,"The name or number assigned to the item in its containing manuscript or manuscript part, as given in the @n attribute to the msItem element."
metadata,file URL,"for $i in (//tei:msItem) return string-join($i/ancestor::tei:TEI/@xml:id, "" "")",,,,,text,"A unique identifier for the catalogue file, given in the xml:id attribute to the TEI root element."
metadata,ms ID,"for $i in (//tei:msItem) return string-join($i/ancestor::tei:TEI/tei:teiHeader/tei:fileDesc/tei:publicationStmt/tei:idno[@type=""msID""][not(@subtype=""alt"")]/string-join(.,""""), "" "")",,,,,text,"The collection in which the manuscript is recorded, given in an idno element within the publicationStmt element which has @type ""collection"" and is not an alternative identifier (and therefore has no @subtype with ""alt"")."
metadata,shelfmark,"for $i in (//tei:msItem) return string-join($i/ancestor::tei:TEI/tei:teiHeader/tei:fileDesc/tei:sourceDesc/tei:msDesc/tei:msIdentifier/tei:idno[@type=""shelfmark""][not(@subtype=""alt"")]/string-join(.,""""), "" "")",,,,,text,"The identifier given to the manuscript, given in an idno element within the publicationStmt element which has @type ""msID"" and is not an alternative identifier (and therefore has no @subtype with ""alt"")."
metadata,collection,"for $i in (//tei:msItem) return string-join($i/ancestor::tei:TEI/tei:teiHeader/tei:fileDesc/tei:publicationStmt/tei:idno[@type=""collection""][not(@subtype=""alt"")]/string-join(.,""""), "" "")",,,,,text,"The shelfmark given to the manuscript, given in an idno element within the publicationStmt element which has @type ""shelfmark"" and is not an alternative identifier (and therefore has no @subtype with ""alt"")."
metadata,ms type,"for $i in (//tei:msItem) return string-join($i/(ancestor::tei:msPart[not(@type=('fragment','wrapper','flyleaf'))]/('part'), ancestor::tei:msPart[@type=('fragment','wrapper','flyleaf')]/('fragment'), ancestor::tei:msDesc[not(.//tei:msPart)]/('manuscript'),ancestor::tei:msDesc[.//tei:msPart[not(@type=('fragment','wrapper','flyleaf'))]]/('manuscript-composite'), ancestor::tei:msDesc[.//tei:msPart and not(.//tei:msPart[not(@type=('fragment','wrapper','flyleaf'))])]/('manuscript-with-fragment'))[1], "" "")",,,,,text,"Whether the current row concerns a fragment ('fragment'), a manuscript part ('part'), an entire manuscript ('manuscript'), a manuscript containing parts ('manuscript-composite') or a manuscript containing fragments ('manuscript-with-fragment'). "
metadata,part name,"for $i in (//tei:msItem) return string-join($i/(ancestor::tei:msPart|ancestor::tei:msDesc)[last()]//tei:idno[@type=""part""][not(@subtype=""alt"")]/string-join(.,""""), "" "")",,,,,text,"The identifier given to the manuscript or manuscript part in an idno element which has @type ""part"" and is not an alternative identifier (and therefore has no @subtype with ""alt"")."
metadata,part ID,"for $i in (//tei:msItem) return string-join($i/(ancestor::tei:msPart|ancestor::tei:msDesc)[last()]/@xml:id, "" "")",,,,,text,"The identifier given to the manuscript or manuscript part in an xml:id attribute. If the current row is not for a fragment or a manuscript part, this column will be the same as the metadata: ID column."
metadata,nest level,"for $i in (//tei:msItem) return string-join(string(count($i/ancestor-or-self::tei:msItem)[.>0]), """")",,,,,number,"An integer detailing the nesting level of the current item, that is whether it is a top-level item (1), part of a top level item (2), part of a broader part of a top-level item (3), etc."
locus,locus,"for $i in (//tei:msItem) return normalize-space(string-join($i/tei:locus[text()]/string-join(., """"), "" ""))",,,,,text,"Details of any locus information for this feature encoded within a locus element. When multiple loci are given, they are separated using a semi-colon."
locus,from,"for $i in (//tei:msItem) return string-join($i/tei:locus/@from, "" "")",,,,,number,"The folio, page, or membrane reference at which this feature begins, as encoded within the @from attribute to a locus element. Where multiple loci are given, they are separated by a space."
locus,to,"for $i in (//tei:msItem) return string-join($i/tei:locus/@to, "" "")",,,,,number,"The folio, page, or membrane reference at which this feature ends, as encoded within the @to attribute to a locus element. Where multiple loci are given, they are separated by a space."
locus,inferred,"for $i in (//tei:msItem) return string-join($i/(.[not(tei:locus) or tei:locus[not(@to)]]/(""""), tei:locus[@to][not(contains(@type,""inferred""))]/(""false""), tei:locus[contains(@type,""inferred"")]/(""true""))[1], "" "")",,,,,boolean,"A boolean (true/false) value indicating whether some element of the locus information has been inferred from other information. For instance, when multiple items are contained within the same manuscript or manuscript part, the 'to' value may be estimated based on the start of the next item or the total number of folios in the manuscript or manuscript part. If the manuscript or manuscript part contains only one item, then both the 'from' and 'to' values may be estimated from the extent information. If this value is 'true', then the locus information should be treated with caution."
length,est fols,"for $i in (//tei:msItem) return string-join(string(ceiling($i/(sum(tei:locus[@from[number(tokenize(., ""[^0-9]"")[1]) = number(tokenize(., ""[^0-9]"")[1])] and @to[number(tokenize(., ""[^0-9]"")[1]) = number(tokenize(., ""[^0-9]"")[1])]]/abs(number(tokenize(@to, ""[^0-9]"")[1]) - number(tokenize(@from, ""[^0-9]"")[1]) + 1))))[.>0]), "" "")",,,,,number,"An estimate for the number of folios occupied by a given work, determined by extracting numeric values from the @to and @from attributes to a child locus element and calculating their range. These estimates have not been manually verified and should therefore be treated with caution."
length,est cols,"for $i in (//tei:msItem) return string-join(string(ceiling($i/(sum(tei:locus[@from[number(tokenize(., ""[^0-9]"")[1]) = number(tokenize(., ""[^0-9]"")[1])] and @to[number(tokenize(., ""[^0-9]"")[1]) = number(tokenize(., ""[^0-9]"")[1])]]/abs(number(tokenize(@to, ""[^0-9]"")[1]) - number(tokenize(@from, ""[^0-9]"")[1]) + 1))) * ($i/(number(max(tokenize(string-join((ancestor::tei:msDesc/tei:physDesc | ancestor::tei:msPart/tei:physDesc)[last()]//tei:layout/@columns, "" ""), "" ""))) + number(min(tokenize(string-join((ancestor::tei:msDesc/tei:physDesc | ancestor::tei:msPart/tei:physDesc)[last()]//tei:layout/@columns, "" ""), "" "")))) div 2) * 2)[.>0]), "" "")",,,,,number,"An estimate for the number of columns occupied by a given work, determined by extracting numeric values from the @to and @from attributes to a child locus element and calculating their range, which is then multiplied by double the value in the @columns attribute to an associated layout element. These estimates have not been manually verified and should therefore be treated with caution."
length,est lines,"for $i in (//tei:msItem) return string-join(string(ceiling($i/(sum(tei:locus[@from[number(tokenize(., ""[^0-9]"")[1]) = number(tokenize(., ""[^0-9]"")[1])] and @to[number(tokenize(., ""[^0-9]"")[1]) = number(tokenize(., ""[^0-9]"")[1])]]/abs(number(tokenize(@to, ""[^0-9]"")[1]) - number(tokenize(@from, ""[^0-9]"")[1]) + 1))) * ($i/(number(max(tokenize(string-join((ancestor::tei:msDesc/tei:physDesc | ancestor::tei:msPart/tei:physDesc)[last()]//tei:layout/@columns, "" ""), "" ""))) + number(min(tokenize(string-join((ancestor::tei:msDesc/tei:physDesc | ancestor::tei:msPart/tei:physDesc)[last()]//tei:layout/@columns, "" ""), "" "")))) div 2) * 2 * ($i/(number(max(tokenize(string-join((ancestor::tei:msDesc/tei:physDesc | ancestor::tei:msPart/tei:physDesc)[last()]//tei:layout/@writtenLines, "" ""), "" ""))) + number(min(tokenize(string-join((ancestor::tei:msDesc/tei:physDesc | ancestor::tei:msPart/tei:physDesc)[last()]//tei:layout/@writtenLines, "" ""), "" "")))) div 2))[.>0]), "" "")",,,,,number,"An estimate for the number of columns occupied by a given work, determined by extracting numeric values from the @to and @from attributes to a child locus element and calculating their range, which is then multiplied by double the value in the @columns attribute to an associated layout element, and then multiplied by the value in the @writtenLines attribute to an associated layout element. These estimates have not been manually verified and should therefore be treated with caution."
length,est % of ms,"for $i in (//tei:msItem) return string-join(string((ceiling($i/(sum(tei:locus[@from[number(tokenize(., ""[^0-9]"")[1]) = number(tokenize(., ""[^0-9]"")[1])] and @to[number(tokenize(., ""[^0-9]"")[1]) = number(tokenize(., ""[^0-9]"")[1])]]/abs(number(tokenize(@to, ""[^0-9]"")[1])-number(tokenize(@from, ""[^0-9]"")[1]) + 1))))[.>0] div $i/ancestor::tei:msDesc/sum(.//tei:measure[@type=""leaf""]/@quantity[.>0]))[number(.)=number(.)][.<=1]), "" "")",,,,,percentage,"An estimate for the percentage of the full manuscript occupied by a given work, determined by extracting numeric values from the @to and @from attributes to a child locus element and calculating their range, and then comparing this to the extent information given for the whole manuscript or manuscript part. These estimates have not been manually verified and should therefore be treated with caution."
length,est % of part,"for $i in (//tei:msItem) return string-join(string((ceiling($i/(sum(tei:locus[@from[number(tokenize(., ""[^0-9]"")[1]) = number(tokenize(., ""[^0-9]"")[1])] and @to[number(tokenize(., ""[^0-9]"")[1]) = number(tokenize(., ""[^0-9]"")[1])]]/abs(number(tokenize(@to, ""[^0-9]"")[1])-number(tokenize(@from, ""[^0-9]"")[1]) + 1))))[.>0] div $i/(ancestor::tei:msPart|ancestor::tei:msDesc)[last()]/sum(.//tei:measure[@type=""leaf""]/@quantity[.>0]))[number(.)=number(.)][.<=1]), "" "")",,,,,percentage,"An estimate for the percentage of the manuscript part occupied by a given work, determined by extracting numeric values from the @to and @from attributes to a child locus element and calculating their range, and then comparing this to the extent information given for the whole manuscript or manuscript part. Where a manuscript is not separated into parts, this value will be the same as the preceding column. These estimates have not been manually verified and should therefore be treated with caution."
work,title,"for $i in (//tei:msItem) return normalize-space(string-join($i/tei:title/string-join(., """"), ""; ""))",,,,,text,"The title of the item, as found in the title element within an individual msItem element. When multiple title elements are found, these are separated by a semi-colon."
work,title type,"for $i in (//tei:msItem) return string-join(distinct-values($i/tei:title/@type), "" "")",,,,,text,"The type assigned to the title of the item, as contained within a @type attribute to a title element. Common values are 'alt', 'desc', 'prologue', 'sub', 'supplied', and 'uniform'."
work,work ID,"for $i in (//tei:msItem) return string-join(distinct-values($i/tei:title/@key), "" "")",,,,,text,"The identifier(s) given to the item, as found in the @key attribute to the title element within an individual msItem. These correspond to the IDs found in the authority file. When multiple works are contained within a manuscript or manuscript part, the identifiers are separated by a space."
work,standard title(s),"for $i in (//tei:msItem) return string-join(distinct-values($i/tei:title/@key), "" "")",works,title,uniform,semi-colon,text,"The standardised title(s) of the item, extracted from the authority files. When multiple titles are found, these are separated by a semi-colon."
work,class(es),"for $i in (//tei:msItem) return string-join($i/@class/translate(., ""#"", """"), "" "")",,,,,text,"Classes associated with the item, as found in the @class attribute to the msItem element. When multiple values appear, they are separated by a space."
work,associated subject(s),"for $i in (//tei:msItem) return string-join(distinct-values($i/tei:title/@key), "" "")",works,subjects,list,semi-colon,text,"The subject(s) associated with the item, extracted from the authority files. When multiple values appear, they are separated by a semi-colon."
work,subject URI(s),"for $i in (//tei:msItem) return string-join(distinct-values($i/tei:title/@key), "" "")",works,subjects,URI(s),space,text,"URI(s) for the subject(s) associated with the item, extracted from the authority files. When multiple values appear, they are separated by a space."
work,theology,"for $i in (//tei:msItem) return string-join(distinct-values($i/tei:title/@key), "" "")",works,subjects,theology,space,boolean,"A boolean (true/false) value expressing whether the current item is classed in the authority files as belonging to the subject topic 'theology'. For URI links to further information on the definition of this subject, see the authority files."
work,documents,"for $i in (//tei:msItem) return string-join(distinct-values($i/tei:title/@key), "" "")",works,subjects,documents,space,boolean,"A boolean (true/false) value expressing whether the current item is classed in the authority files as belonging to the subject topic 'documents'. For URI links to further information on the definition of this subject, see the authority files."
work,bible,"for $i in (//tei:msItem) return string-join(distinct-values($i/tei:title/@key), "" "")",works,subjects,bible,space,boolean,"A boolean (true/false) value expressing whether the current item is classed in the authority files as belonging to the subject topic 'bible'. For URI links to further information on the definition of this subject, see the authority files."
work,literature,"for $i in (//tei:msItem) return string-join(distinct-values($i/tei:title/@key), "" "")",works,subjects,literature,space,boolean,"A boolean (true/false) value expressing whether the current item is classed in the authority files as belonging to the subject topic 'literature'. For URI links to further information on the definition of this subject, see the authority files."
work,science,"for $i in (//tei:msItem) return string-join(distinct-values($i/tei:title/@key), "" "")",works,subjects,science,space,boolean,"A boolean (true/false) value expressing whether the current item is classed in the authority files as belonging to the subject topic 'science'. For URI links to further information on the definition of this subject, see the authority files."
work,liturgy,"for $i in (//tei:msItem) return string-join(distinct-values($i/tei:title/@key), "" "")",works,subjects,liturgy,space,boolean,"A boolean (true/false) value expressing whether the current item is classed in the authority files as belonging to the subject topic 'liturgy'. For URI links to further information on the definition of this subject, see the authority files."
work,history,"for $i in (//tei:msItem) return string-join(distinct-values($i/tei:title/@key), "" "")",works,subjects,history,space,boolean,"A boolean (true/false) value expressing whether the current item is classed in the authority files as belonging to the subject topic 'history'. For URI links to further information on the definition of this subject, see the authority files."
work,law,"for $i in (//tei:msItem) return string-join(distinct-values($i/tei:title/@key), "" "")",works,subjects,law,space,boolean,"A boolean (true/false) value expressing whether the current item is classed in the authority files as belonging to the subject topic 'law'. For URI links to further information on the definition of this subject, see the authority files."
work,philosophy,"for $i in (//tei:msItem) return string-join(distinct-values($i/tei:title/@key), "" "")",works,subjects,philosophy,space,boolean,"A boolean (true/false) value expressing whether the current item is classed in the authority files as belonging to the subject topic 'philosophy'. For URI links to further information on the definition of this subject, see the authority files."
work,hagiography,"for $i in (//tei:msItem) return string-join(distinct-values($i/tei:title/@key), "" "")",works,subjects,hagiography,space,boolean,"A boolean (true/false) value expressing whether the current item is classed in the authority files as belonging to the subject topic 'hagiography'. For URI links to further information on the definition of this subject, see the authority files."
work,medicine,"for $i in (//tei:msItem) return string-join(distinct-values($i/tei:title/@key), "" "")",works,subjects,medicine,space,boolean,"A boolean (true/false) value expressing whether the current item is classed in the authority files as belonging to the subject topic 'medicine'. For URI links to further information on the definition of this subject, see the authority files."
work,christian literature,"for $i in (//tei:msItem) return string-join(distinct-values($i/tei:title/@key), "" "")",works,subjects,christian literature,space,boolean,"A boolean (true/false) value expressing whether the current item is classed in the authority files as belonging to the subject topic 'christian literature'. For URI links to further information on the definition of this subject, see the authority files."
work,sermons,"for $i in (//tei:msItem) return string-join(distinct-values($i/tei:title/@key), "" "")",works,subjects,sermons,space,boolean,"A boolean (true/false) value expressing whether the current item is classed in the authority files as belonging to the subject topic 'sermons'. For URI links to further information on the definition of this subject, see the authority files."
work,classical literature,"for $i in (//tei:msItem) return string-join(distinct-values($i/tei:title/@key), "" "")",works,subjects,classical literature,space,boolean,"A boolean (true/false) value expressing whether the current item is classed in the authority files as belonging to the subject topic 'classical literature'. For URI links to further information on the definition of this subject, see the authority files."
work,monasticism and religious orders,"for $i in (//tei:msItem) return string-join(distinct-values($i/tei:title/@key), "" "")",works,subjects,monasticism and religious orders,space,boolean,"A boolean (true/false) value expressing whether the current item is classed in the authority files as belonging to the subject topic 'monasticism'. For URI links to further information on the definition of this subject, see the authority files."
work,grammar,"for $i in (//tei:msItem) return string-join(distinct-values($i/tei:title/@key), "" "")",works,subjects,grammar,space,boolean,"A boolean (true/false) value expressing whether the current item is classed in the authority files as belonging to the subject topic 'grammar'. For URI links to further information on the definition of this subject, see the authority files."
work,clergy,"for $i in (//tei:msItem) return string-join(distinct-values($i/tei:title/@key), "" "")",works,subjects,clergy,space,boolean,"A boolean (true/false) value expressing whether the current item is classed in the authority files as belonging to the subject topic 'clergy'. For URI links to further information on the definition of this subject, see the authority files."
work,rhetoric,"for $i in (//tei:msItem) return string-join(distinct-values($i/tei:title/@key), "" "")",works,subjects,rhetoric,space,boolean,"A boolean (true/false) value expressing whether the current item is classed in the authority files as belonging to the subject topic 'rhetoric'. For URI links to further information on the definition of this subject, see the authority files."
work,geography,"for $i in (//tei:msItem) return string-join(distinct-values($i/tei:title/@key), "" "")",works,subjects,geography,space,boolean,"A boolean (true/false) value expressing whether the current item is classed in the authority files as belonging to the subject topic 'geography'. For URI links to further information on the definition of this subject, see the authority files."
work,natural history,"for $i in (//tei:msItem) return string-join(distinct-values($i/tei:title/@key), "" "")",works,subjects,natural history,space,boolean,"A boolean (true/false) value expressing whether the current item is classed in the authority files as belonging to the subject topic 'natural history'. For URI links to further information on the definition of this subject, see the authority files."
work,politics and government,"for $i in (//tei:msItem) return string-join(distinct-values($i/tei:title/@key), "" "")",works,subjects,politics and government,space,boolean,"A boolean (true/false) value expressing whether the current item is classed in the authority files as belonging to the subject topic 'politics and government'. For URI links to further information on the definition of this subject, see the authority files."
work,music,"for $i in (//tei:msItem) return string-join(distinct-values($i/tei:title/@key), "" "")",works,subjects,music,space,boolean,"A boolean (true/false) value expressing whether the current item is classed in the authority files as belonging to the subject topic 'music'. For URI links to further information on the definition of this subject, see the authority files."
work,indexes,"for $i in (//tei:msItem) return string-join(distinct-values($i/tei:title/@key), "" "")",works,subjects,indexes,space,boolean,"A boolean (true/false) value expressing whether the current item is classed in the authority files as belonging to the subject topic 'indexes'. For URI links to further information on the definition of this subject, see the authority files."
work,conduct,"for $i in (//tei:msItem) return string-join(distinct-values($i/tei:title/@key), "" "")",works,subjects,conduct,space,boolean,"A boolean (true/false) value expressing whether the current item is classed in the authority files as belonging to the subject topic 'conduct'. For URI links to further information on the definition of this subject, see the authority files."
work,heraldry,"for $i in (//tei:msItem) return string-join(distinct-values($i/tei:title/@key), "" "")",works,subjects,heraldry,space,boolean,"A boolean (true/false) value expressing whether the current item is classed in the authority files as belonging to the subject topic 'heraldry'. For URI links to further information on the definition of this subject, see the authority files."
work,magic,"for $i in (//tei:msItem) return string-join(distinct-values($i/tei:title/@key), "" "")",works,subjects,magic,space,boolean,"A boolean (true/false) value expressing whether the current item is classed in the authority files as belonging to the subject topic 'magic'. For URI links to further information on the definition of this subject, see the authority files."
work,bibliography,"for $i in (//tei:msItem) return string-join(distinct-values($i/tei:title/@key), "" "")",works,subjects,bibliography,space,boolean,"A boolean (true/false) value expressing whether the current item is classed in the authority files as belonging to the subject topic 'bibliography'. For URI links to further information on the definition of this subject, see the authority files."
work,recreation,"for $i in (//tei:msItem) return string-join(distinct-values($i/tei:title/@key), "" "")",works,subjects,recreation,space,boolean,"A boolean (true/false) value expressing whether the current item is classed in the authority files as belonging to the subject topic 'recreation'. For URI links to further information on the definition of this subject, see the authority files."
author,name(s),"for $i in (//tei:msItem) return normalize-space(string-join($i/tei:author/string-join(.,""""), ""; ""))",,,,,text,"Details of the author(s) given for the item, as encoded within the author element to the msItem element. When multiple authors are given, they are separated by a semi-colon."
author,standard name(s),"for $i in (//tei:msItem) return string-join(distinct-values($i/tei:title/@key), "" "")",works,author,name,semi-colon,text,"Details of the author(s) given for the item, as given in the authority file. When multiple authors are given, they are separated by a semi-colon."
author,ID(s),"for $i in (//tei:msItem) return string-join(distinct-values($i/tei:author/@key), "" "")",,,,,text,"The identifier(s) given to the author(s) given for the item, as found in the @key attribute to the author element within the msItem element, which correspond to those found in the authority file. When multiple authors are given, they are separated by a space."
language,text lang(s),"for $i in (//tei:msItem) return normalize-space(string-join($i/tei:textLang/string-join(.,""""), "" ""))",,,,,text,"The language(s) of the item item, as encoded within the textLang element within the msItem element."
language,main,"for $i in (//tei:msItem) return string-join($i/(tei:textLang/@mainLang|ancestor::tei:msItem/tei:textLang[not(@otherLangs)]/@mainLang|ancestor::tei:msContents/tei:textLang[not(@otherLangs)]/@mainLang)[last()]/string-join(.,""""), "" "")",,,,,text,"ISO code(s) for the main language of the item, as encoded within the @mainLang attribute to the msItem element. If no such attribute is found, the @mainLang attribute is inherited from the ancestor msContents."
language,other,"for $i in (//tei:msItem) return string-join($i/tei:textLang/@otherLangs, "" "")",,,,,text,"ISO code(s) for additional languages of the item, as encoded within the @mainLang attribute to the msItem element."
paratext,incipit,"for $i in (//tei:msItem) return normalize-space(string-join($i/tei:incipit/string-join(.,""""), "" ""))",,,,,text,"The incipit given to the item in its manuscript paratext, as encoded within an incipit element."
paratext,explicit,"for $i in (//tei:msItem) return normalize-space(string-join($i/tei:explicit/string-join(.,""""), "" ""))",,,,,text,"The explicit given to the item in its manuscript paratext, as encoded within an explicit element."
paratext,rubric(s),"for $i in (//tei:msItem) return normalize-space(string-join($i/tei:rubric/string-join(node()[not(self::comment())][not(self::tei:note)], """"), ""; ""))",,,,,text,"The rubric(s) given to the item in its manuscript paratext, as encoded within a rubric element."
paratext,rubric note(s),"for $i in (//tei:msItem) return normalize-space(string-join($i/tei:rubric//tei:note/replace(replace(string-join(.,""""), '^[\[\(]', ''), '[\]\)]$', ''), ""; ""))",,,,,text,"Notes given alongside the rubric(s) in a note element to the rubric element. Values contained in this column commonly include dates, loci, and position information."
paratext,final rubric(s),"for $i in (//tei:msItem) return normalize-space(string-join($i/tei:finalRubric/string-join(node()[not(self::comment())][not(self::tei:note)], """"), ""; ""))",,,,,text,"The final rubric(s) given to the item in its manuscript paratext, as encoded within a finalRubric element."
paratext,final rubric note(s),"for $i in (//tei:msItem) return normalize-space(string-join($i/tei:finalRubric//tei:note/replace(replace(string-join(.,""""), '^[\[\(]', ''), '[\]\)]$', ''), ""; ""))",,,,,text,"Notes given alongside the final rubric(s) in a note element to the finalRubric element. Values contained in this column commonly include dates, loci, and position information."
bibliography,note(s),"for $i in (//tei:msItem) return normalize-space(string-join($i/tei:note[text()]/string-join(., """"), ""; ""))",,,,,text,"Notes about the current item, as given within a child note element to the msItem element."
bibliography,bibl,"for $i in (//tei:msItem) return normalize-space(string-join($i//tei:bibl/string-join(., """"), ""; ""))",,,,,text,"All bibliographic references associated with this item, as encoded within bibl elements."
bibliography,repertory/ies,"for $i in (//tei:msItem) return normalize-space(string-join($i//tei:bibl[contains(@type,""repertory"")]/string-join(., """"), ""; ""))",,,,,text,"Bibliographic references associated with this item, as encoded within bibl elements, which are classed as repertories using a @type attribute containing 'repertory'."
bibliography,edition(s),"for $i in (//tei:msItem) return normalize-space(string-join($i//tei:bibl[contains(@type,""edition"")]/string-join(., """"), ""; ""))",,,,,text,"Bibliographic references associated with this item, as encoded within bibl elements, which are classed as editions using a @type attribute containing 'edition'."
bibliography,commented on,"for $i in (//tei:msItem) return normalize-space(string-join($i//tei:bibl[contains(@type,""commentedOn"")]/string-join(., """"), ""; ""))",,,,,text,"Bibliographic references associated with this item, as encoded within bibl elements, which are classed as being commented on in the current item using a @type attribute containing 'commentedOn'."
bibliography,related,"for $i in (//tei:msItem) return normalize-space(string-join($i//tei:bibl[contains(@type,""related"")]/string-join(., """"), ""; ""))",,,,,text,"Bibliographic references associated with this item, as encoded within bibl elements, which are classed as related using a @type attribute containing 'related'."
bibliography,commentary/ies,"for $i in (//tei:msItem) return normalize-space(string-join($i//tei:bibl[contains(@type,""commentary"")]/string-join(., """"), ""; ""))",,,,,text,"Bibliographic references associated with this item, as encoded within bibl elements, which are classed as commentaries on this item using a @type attribute containing 'commentary'."
bibliography,bible,"for $i in (//tei:msItem) return normalize-space(string-join($i//tei:bibl[contains(@type,""bible"")]/string-join(., """"), ""; ""))",,,,,text,"Bibliographic references associated with this item, as encoded within bibl elements, which are classed as Biblical references using a @type attribute containing 'bible'."
bibliography,ms(s),"for $i in (//tei:msItem) return normalize-space(string-join($i//tei:bibl[contains(lower-case(@type),""ms"")]/string-join(., """"), ""; ""))",,,,,text,"Bibliographic references associated with this item, as encoded within bibl elements, which are classed as manuscripts using a @type attribute containing 'ms'."
bibliography,IMEV,"for $i in (//tei:msItem) return normalize-space(string-join($i//tei:bibl[contains(@type,""IMEV"")]/string-join(., """"), ""; ""))",,,,,text,"Bibliographic references associated with this item, as encoded within bibl elements, which are classed as references to The Index of Middle English Verse, using a @type attribute containing 'IMEV'."
bibliography,IMEV URI(s),"for $i in (//tei:msItem) return normalize-space(string-join($i//tei:bibl[contains(@type,""IMEV"")]/tei:ref/@target, "" ""))",,,,,text,The URI(s) associated with any references to The Index of Middle English Verse.
bibliography,WIC,"for $i in (//tei:msItem) return normalize-space(string-join($i//tei:bibl/tei:ref[contains(tei:title,""WIC"")]/string-join(., """"), ""; ""))",,,,,text,"Bibliographic references associated with this item, as encoded within bibl elements, which are classed as Walther Initia carminum references, using a @type attribute containing 'WIC'."
bibliography,WIC URI(s),"for $i in (//tei:msItem) return normalize-space(string-join($i//tei:bibl/tei:ref[contains(tei:title,""WIC"")]/@target, "" ""))",,,,,text,The URI(s) associated with any references to the Walther Initia carminum.