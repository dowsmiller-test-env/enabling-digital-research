section,heading,xpath,auth_file,auth_section,auth_col,separator,format,comment
metadata,history UID,"for $p in (//tei:provenance|//tei:acquisition) return concat($p/ancestor::tei:TEI/tei:teiHeader/tei:fileDesc/tei:publicationStmt/tei:idno[@type=""msID""], ""_hist_"", count($p/preceding::tei:provenance|$p/preceding::tei:acquisition) + 1)",,,,,text,"A unique identifier for the provenance or acquisition information, generated by concatenating the identifier given to the manuscript with which the details are associated with a count of how many provenance elements precede the current element in the entry file."
metadata,file URL,"for $p in (//tei:provenance|//tei:acquisition) return string-join($p/ancestor::tei:TEI/@xml:id, "" "")",,,,,text,"A unique identifier for the catalogue file, given in the xml:id attribute to the TEI root element."
metadata,collection,"for $p in (//tei:provenance|//tei:acquisition) return string-join($p/ancestor::tei:TEI/tei:teiHeader/tei:fileDesc/tei:publicationStmt/tei:idno[@type=""collection""][not(@subtype=""alt"")]/string-join(.,""""), "" "")",,,,,text,"The collection in which the manuscript is recorded, given in an idno element within the publicationStmt element which has @type ""collection"" and is not an alternative identifier (and therefore has no @subtype with ""alt"")."
metadata,ms ID,"for $p in (//tei:provenance|//tei:acquisition) return string-join($p/ancestor::tei:TEI/tei:teiHeader/tei:fileDesc/tei:publicationStmt/tei:idno[@type=""msID""][not(@subtype=""alt"")]/string-join(.,""""), "" "")",,,,,text,"The identifier given to the manuscript, given in an idno element within the publicationStmt element which has @type ""msID"" and is not an alternative identifier (and therefore has no @subtype with ""alt"")."
metadata,shelfmark,"for $p in (//tei:provenance|//tei:acquisition) return string-join($p/ancestor::tei:TEI/tei:teiHeader/tei:fileDesc/tei:sourceDesc/tei:msDesc/tei:msIdentifier/tei:idno[@type=""shelfmark""][not(@subtype=""alt"")]/string-join(.,""""), "" "")",,,,,text,"The shelfmark given to the manuscript, given in an idno element within the publicationStmt element which has @type ""shelfmark"" and is not an alternative identifier (and therefore has no @subtype with ""alt"")."
metadata,ms type,"for $p in (//tei:provenance|//tei:acquisition) return string-join($p/(ancestor::tei:msPart[not(@type=('fragment','wrapper','flyleaf'))]/('part'),ancestor::tei:msPart[@type=('fragment','wrapper','flyleaf')]/('fragment'),ancestor::tei:msDesc[not(.//tei:msPart)]/('manuscript'),ancestor::tei:msDesc[.//tei:msPart[not(@type=('fragment','wrapper','flyleaf'))]]/('manuscript-composite'),ancestor::tei:msDesc[.//tei:msPart and not(.//tei:msPart[not(@type=('fragment','wrapper','flyleaf'))])]/('manuscript-with-fragment'))[1], "" "")",,,,,text,"Whether the current row concerns a fragment ('fragment'), a manuscript part ('part'), an entire manuscript ('manuscript'), a manuscript containing parts ('manuscript-composite') or a manuscript containing fragments ('manuscript-with-fragment'). "
metadata,part name,"for $p in (//tei:provenance|//tei:acquisition) return string-join($p/(ancestor::tei:msPart|ancestor::tei:msDesc)[last()]//tei:idno[@type=""part""][not(@subtype=""alt"")]/string-join(.,""""), "" "")",,,,,text,"The identifier given to the manuscript or manuscript part in an idno element which has @type ""part"" and is not an alternative identifier (and therefore has no @subtype with ""alt"")."
metadata,part ID,"for $p in (//tei:provenance|//tei:acquisition) return string-join($p/(ancestor::tei:msPart|ancestor::tei:msDesc)[last()]/@xml:id, "" "")",,,,,text,"The identifier given to the manuscript or manuscript part in an xml:id attribute. If the current row is not for a fragment or a manuscript part, this column will be the same as the metadata: ID column."
overview,history,"for $p in (//tei:provenance|//tei:acquisition) return normalize-space(string-join($p, """"))",,,,,text,"Details of the provenance or acquisition of the manuscript or manuscript part, as encoded within a provenance element within the history element."
overview,type,"for $p in (//tei:provenance|//tei:acquisition) return string-join($p/@type, "" "")",,,,,text,"The type of the current provenance or acquisition information, as encoded within a @type attribute to the provenance element."
dates,when,"for $p in (//tei:provenance|//tei:acquisition) return string-join($p/@when, "" "")",,,,,date,"The date associated with this feature, formatted as a date, as encoded within the @when attribute."
dates,not before,"for $p in (//tei:provenance|//tei:acquisition) return string-join($p/(@notBefore|@from|@when)[last()], "" "")",,,,,date,"The terminus post quem associated with this feature, formatted as a date, as encoded within the @notBefore attribute."
dates,not after,"for $p in (//tei:provenance|//tei:acquisition) return string-join($p/(@notAfter|@to|@when)[last()], "" "")",,,,,date,"The terminus ante quem associated with this feature, formatted as a date, as encoded within the @notAfter attribute."
dates,from,"for $p in (//tei:provenance|//tei:acquisition) return string-join($p/@from, "" "")",,,,,date,"The beginning of a time period associated with this feature, formatted as a date, as encoded within the @from attribute."
dates,to,"for $p in (//tei:provenance|//tei:acquisition) return string-join($p/(@to|@from)[last()], "" "")",,,,,date,"The beginning of a time period associated with this feature, formatted as a date, as encoded within the @to attribute."
dates,certainty,"for $p in (//tei:provenance|//tei:acquisition) return string-join(distinct-values($p/@cert), "" "")",,,,,text,"The certainty of the dating in the preceding columns, as encoded within the @cert attribute attribute. Possible values are high, medium, and low."
dates,calendar,"for $p in (//tei:provenance|//tei:acquisition) return string-join(distinct-values($p/@calendar), "" "")",,,,,text,"The calendar used for the dating in the preceding columns, as encoded within the @calendar attribute. The most common value is Gregorian."
people,author name(s),"for $p in (//tei:provenance|//tei:acquisition) return normalize-space(string-join($p//tei:persName[contains(@role,""aut"") or contains(@role, ""auth"")]/string-join(., """"), ""; ""))",,,,,text,Details of any person(s) named within the provenance or acquisition information within a persName element and identified as an author through an appropriate @role attribute.
people,author ID(s),"for $p in (//tei:provenance|//tei:acquisition) return string-join(distinct-values($p//tei:persName[contains(@role,""aut"") or contains(@role, ""auth"")]/@key), "" "")",,,,,text,"The identifier(s), corresponding to those found in the authority file, given for any person(s) named within the provenance or acquisition information within a persName element and identified as an author through an appropriate @role attribute."
people,scribe name(s),"for $p in (//tei:provenance|//tei:acquisition) return normalize-space(string-join($p//tei:persName[contains(@role,""scr"")]/string-join(., """"), ""; ""))",,,,,text,Details of any person(s) named within the provenance or acquisition information within a persName element and identified as a scribe through an appropriate @role attribute.
people,scribe ID(s),"for $p in (//tei:provenance|//tei:acquisition) return string-join(distinct-values($p//tei:persName[contains(@role,""scr"")]/@key), "" "")",,,,,text,"The identifier(s), corresponding to those found in the authority file, given for any person(s) named within the provenance or acquisition information within a persName element and identified as a scribe through an appropriate @role attribute."
people,signer name(s),"for $p in (//tei:provenance|//tei:acquisition) return normalize-space(string-join($p//tei:persName[contains(@role,""sgn"")]/string-join(., """"), ""; ""))",,,,,text,Details of any person(s) named within the provenance or acquisition information within a persName element and identified as a signer through an appropriate @role attribute.
people,signer ID(s),"for $p in (//tei:provenance|//tei:acquisition) return string-join(distinct-values($p//tei:persName[contains(@role,""sgn"")]/@key), "" "")",,,,,text,"The identifier(s), corresponding to those found in the authority file, given for any person(s) named within the provenance or acquisition information within a persName element and identified as a signer through an appropriate @role attribute."
people,annotator name(s),"for $p in (//tei:provenance|//tei:acquisition) return normalize-space(string-join($p//tei:persName[contains(@role,""ann"")]/string-join(., """"), ""; ""))",,,,,text,Details of any person(s) named within the provenance or acquisition information within a persName element and identified as an annotator through an appropriate @role attribute.
people,annotator ID(s),"for $p in (//tei:provenance|//tei:acquisition) return string-join(distinct-values($p//tei:persName[contains(@role,""ann"")]/@key), "" "")",,,,,text,"The identifier(s), corresponding to those found in the authority file, given for any person(s) named within the provenance or acquisition information within a persName element and identified as an annotator through an appropriate @role attribute."
people,artist name(s),"for $p in (//tei:provenance|//tei:acquisition) return normalize-space(string-join($p//tei:persName[contains(@role,""art"")]/string-join(., """"), ""; ""))",,,,,text,Details of any person(s) named within the provenance or acquisition information within a persName element and identified as an artist through an appropriate @role attribute.
people,artist ID(s),"for $p in (//tei:provenance|//tei:acquisition) return string-join(distinct-values($p//tei:persName[contains(@role,""art"")]/@key), "" "")",,,,,text,"The identifier(s), corresponding to those found in the authority file, given for any person(s) named within the provenance or acquisition information within a persName element and identified as an artist through an appropriate @role attribute."
people,patron name(s),"for $p in (//tei:provenance|//tei:acquisition) return normalize-space(string-join($p//tei:persName[contains(@role,""pat"")]/string-join(., """"), ""; ""))",,,,,text,Details of any person(s) named within the provenance or acquisition information within a persName element and identified as a patron through an appropriate @role attribute.
people,patron ID(s),"for $p in (//tei:provenance|//tei:acquisition) return string-join(distinct-values($p//tei:persName[contains(@role,""pat"")]/@key), "" "")",,,,,text,"The identifier(s), corresponding to those found in the authority file, given for any person(s) named within the provenance or acquisition information within a persName element and identified as a patron through an appropriate @role attribute."
people,binder name(s),"for $p in (//tei:provenance|//tei:acquisition) return normalize-space(string-join($p//tei:persName[contains(@role,""bnd"")]/string-join(., """"), ""; ""))",,,,,text,Details of any person(s) named within the provenance or acquisition information within a persName element and identified as a binder through an appropriate @role attribute.
people,binder ID(s),"for $p in (//tei:provenance|//tei:acquisition) return string-join(distinct-values($p//tei:persName[contains(@role,""bnd"")]/@key), "" "")",,,,,text,"The identifier(s), corresponding to those found in the authority file, given for any person(s) named within the provenance or acquisition information within a persName element and identified as a binder through an appropriate @role attribute."
people,former owner name(s),"for $p in (//tei:provenance|//tei:acquisition) return normalize-space(string-join($p//tei:persName[contains(@role,""fmo"")]/string-join(., """"), ""; ""))",,,,,text,Details of any person(s) named within the provenance or acquisition information within a persName element and identified as a former owner through an appropriate @role attribute.
people,former owner ID(s),"for $p in (//tei:provenance|//tei:acquisition) return string-join(distinct-values($p//tei:persName[contains(@role,""fmo"")]/@key), "" "")",,,,,text,"The identifier(s), corresponding to those found in the authority file, given for any person(s) named within the provenance or acquisition information within a persName element and identified as a former owner through an appropriate @role attribute."
people,donor name(s),"for $p in (//tei:provenance|//tei:acquisition) return normalize-space(string-join($p//tei:persName[contains(@role,""dnr"")]/string-join(., """"), ""; ""))",,,,,text,Details of any person(s) named within the provenance or acquisition information within a persName element and identified as a donor through an appropriate @role attribute.
people,donor ID(s),"for $p in (//tei:provenance|//tei:acquisition) return string-join(distinct-values($p//tei:persName[contains(@role,""dnr"")]/@key), "" "")",,,,,text,"The identifier(s), corresponding to those found in the authority file, given for any person(s) named within the provenance or acquisition information within a persName element and identified as a donor through an appropriate @role attribute."
people,bookseller name(s),"for $p in (//tei:provenance|//tei:acquisition) return normalize-space(string-join($p//tei:persName[contains(@role,""bsl"")]/string-join(., """"), ""; ""))",,,,,text,Details of any person(s) named within the provenance or acquisition information within a persName element and identified as a bookseller through an appropriate @role attribute.
people,bookseller ID(s),"for $p in (//tei:provenance|//tei:acquisition) return string-join(distinct-values($p//tei:persName[contains(@role,""bsl"")]/@key), "" "")",,,,,text,"The identifier(s), corresponding to those found in the authority file, given for any person(s) named within the provenance or acquisition information within a persName element and identified as a bookseller through an appropriate @role attribute."
people,other name(s),"for $p in (//tei:provenance|//tei:acquisition) return normalize-space(string-join($p//tei:persName[not(@role)]/string-join(., """"), ""; ""))",,,,,text,Details of any person(s) named within the provenance or acquisition information within a persName element who is not assigned a role through a @role attribute.
people,other ID(s),"for $p in (//tei:provenance|//tei:acquisition) return string-join(distinct-values($p//tei:persName[not(@role)]/@key), "" "")",,,,,text,"The identifier(s), corresponding to those found in the authority file, given for any person(s) named within the provenance or acquisition information within a persName element who is not assigned a role through a @role attribute."
former owners (person),standard name(s),"for $p in (//tei:provenance|//tei:acquisition) return string-join(distinct-values($p//tei:persName[contains(@role,""fmo"")]/@key), "" "")",persons,names,display,semi-colon,text,"The standard name, extracted from the authority files, which is assigned to a person identified in the provenance or acquisition information as a former owner."
former owners (person),birth,"for $p in (//tei:provenance|//tei:acquisition) return string-join(distinct-values($p//tei:persName[contains(@role,""fmo"")]/@key), "" "")",persons,birth,when,space,date,"The date of birth, formatted as a date and extracted from the authority files, of the person who is identified in the provenance or acquisition information as a former owner."
former owners (person),death,"for $p in (//tei:provenance|//tei:acquisition) return string-join(distinct-values($p//tei:persName[contains(@role,""fmo"")]/@key), "" "")",persons,death,when,space,date,"The date of death, formatted as a date and extracted from the authority files, of the person who is identified in the provenance or acquisition information as a former owner."
former owners (person),floruit not before,"for $p in (//tei:provenance|//tei:acquisition) return string-join(distinct-values($p//tei:persName[contains(@role,""fmo"")]/@key), "" "")",persons,floruit,not before,space,date,"The terminus post quem of the active period, formatted as a date and extracted from the authority files, of the person who is identified in the provenance or acquisition information as a former owner."
former owners (person),floruit not after,"for $p in (//tei:provenance|//tei:acquisition) return string-join(distinct-values($p//tei:persName[contains(@role,""fmo"")]/@key), "" "")",persons,floruit,not after,space,date,"The terminus ante quem of the active period, formatted as a date and extracted from the authority files, of the person who is identified in the provenance or acquisition information as a former owner."
former owners (person),occupation,"for $p in (//tei:provenance|//tei:acquisition) return string-join(distinct-values($p//tei:persName[contains(@role,""fmo"")]/@key), "" "")",persons,biography,occupation,semi-colon,text,"The occupation, extracted from the authority files, of the person who is identified in the provenance or acquisition information as a former owner."
former owners (person),sex,"for $p in (//tei:provenance|//tei:acquisition) return string-join(distinct-values($p//tei:persName[contains(@role,""fmo"")]/@key), "" "")",persons,biography,sex,space,text,"The sex, extracted from the authority files, of the person who is identified in the provenance or acquisition information as a former owner. Values are 'male', 'female', and 'unknown'."
former owners (person),nationality,"for $p in (//tei:provenance|//tei:acquisition) return string-join(distinct-values($p//tei:persName[contains(@role,""fmo"")]/@key), "" "")",persons,biography,nationality,semi-colon,text,"The nationality, extracted from the authority files, of the person who is identified in the provenance or acquisition information as a former owner."
former owners (person),lang knowledge,"for $p in (//tei:provenance|//tei:acquisition) return string-join(distinct-values($p//tei:persName[contains(@role,""fmo"")]/@key), "" "")",persons,biography,lang knowledge,space,text,"The languages, extracted from the authority files, known by the person who is identified in the provenance or acquisition information as a former owner."
former owners (person),residence,"for $p in (//tei:provenance|//tei:acquisition) return string-join(distinct-values($p//tei:persName[contains(@role,""fmo"")]/@key), "" "")",persons,biography,residence,semi-colon,text,"The residence, extracted from the authority files, of the person who is identified in the provenance or acquisition information as a former owner."
former owners (person),affiliation,"for $p in (//tei:provenance|//tei:acquisition) return string-join(distinct-values($p//tei:persName[contains(@role,""fmo"")]/@key), "" "")",persons,biography,affiliation,semi-colon,text,"The affiliation, extracted from the authority files, of the person who is identified in the provenance or acquisition information as a former owner."
orgs,former owner name(s),"for $p in (//tei:provenance|//tei:acquisition) return normalize-space(string-join($p//tei:orgName[contains(@role,""fmo"")]/string-join(., """"), ""; ""))",,,,,text,Details of any organisation(s) named within the provenance or acquisition information within a orgName element and identified as a former owner through an appropriate @role attribute.
orgs,former owner ID(s),"for $p in (//tei:provenance|//tei:acquisition) return string-join(distinct-values($p//tei:orgName[contains(@role,""fmo"")]/@key), "" "")",,,,,text,"The identifier(s), corresponding to those found in the authority file, given for any organisation(s) named within the provenance or acquisition information within a orgName element and identified as a former owner through an appropriate @role attribute."
orgs,patron name(s),"for $p in (//tei:provenance|//tei:acquisition) return normalize-space(string-join($p//tei:orgName[contains(@role,""pat"")]/string-join(., """"), ""; ""))",,,,,text,Details of any organisation(s) named within the provenance or acquisition information within a orgName element and identified as a patron through an appropriate @role attribute.
orgs,patron ID(s),"for $p in (//tei:provenance|//tei:acquisition) return string-join(distinct-values($p//tei:orgName[contains(@role,""pat"")]/@key), "" "")",,,,,text,"The identifier(s), corresponding to those found in the authority file, given for any organisation(s) named within the provenance or acquisition information within a orgName element and identified as a patron through an appropriate @role attribute."
orgs,donor name(s),"for $p in (//tei:provenance|//tei:acquisition) return normalize-space(string-join($p//tei:orgName[contains(@role,""dnr"")]/string-join(., """"), ""; ""))",,,,,text,Details of any organisation(s) named within the provenance or acquisition information within a orgName element and identified as a donor through an appropriate @role attribute.
orgs,donor ID(s),"for $p in (//tei:provenance|//tei:acquisition) return string-join(distinct-values($p//tei:orgName[contains(@role,""dnr"")]/@key), "" "")",,,,,text,"The identifier(s), corresponding to those found in the authority file, given for any organisation(s) named within the provenance or acquisition information within a orgName element and identified as a donor through an appropriate @role attribute."
orgs,other name(s),"for $p in (//tei:provenance|//tei:acquisition) return normalize-space(string-join($p//tei:orgName[not(@role)]/string-join(., """"), ""; ""))",,,,,text,Details of any organisation(s) named within the provenance or acquisition information within a orgName element who is not assigned a role through a @role attribute.
orgs,other ID(s),"for $p in (//tei:provenance|//tei:acquisition) return string-join(distinct-values($p//tei:orgName[not(@role)]/@key), "" "")",,,,,text,"The identifier(s), corresponding to those found in the authority file, given for any organisation(s) named within the provenance or acquisition information within a orgName element which is not assigned a role through a @role attribute."
former owners (org),standard name(s),"for $p in (//tei:provenance|//tei:acquisition) return string-join(distinct-values($p//tei:orgName[contains(@role, ""fmo"")]/@key), "" "")",orgs,names,display,semi-colon,text,"The standard name, extracted from the authority files, which is assigned to an organisation identified in the provenance or acquisition information as a former owner."
former owners (org),affiliation,"for $p in (//tei:provenance|//tei:acquisition) return string-join(distinct-values($p//tei:orgName[contains(@role, ""fmo"")]/@key), "" "")",orgs,affiliation,affiliation,semi-colon,text,"The affiliation, extracted from the authority files, of the organisation identified in the provenance or acquisition information as a former owner."
former owners (org),latitude,"for $p in (//tei:provenance|//tei:acquisition) return string-join(distinct-values($p//tei:orgName[contains(@role, ""fmo"")]/@key), "" "")",orgs,location,longitude,semi-colon,number,"The geographic latitude, extracted from the authority files, of the organisation identified in the provenance or acquisition information as a former owner."
former owners (org),longitude,"for $p in (//tei:provenance|//tei:acquisition) return string-join(distinct-values($p//tei:orgName[contains(@role, ""fmo"")]/@key), "" "")",orgs,location,latitude,semi-colon,number,"The geographic longitude, extracted from the authority files, of the organisation identified in the provenance or acquisition information as a former owner."
former owners (org),settlement,"for $p in (//tei:provenance|//tei:acquisition) return string-join(distinct-values($p//tei:orgName[contains(@role, ""fmo"")]/@key), "" "")",orgs,location,settlement,semi-colon,text,"The settlement, extracted from the authority files, associated with the organisation identified in the provenance or acquisition information as a former owner."
former owners (org),country,"for $p in (//tei:provenance|//tei:acquisition) return string-join(distinct-values($p//tei:orgName[contains(@role, ""fmo"")]/@key), "" "")",orgs,location,country,semi-colon,text,"The country, extracted from the authority files, associated with the organisation identified in the provenance or acquisition information as a former owner."
places,name(s),"for $p in (//tei:provenance|//tei:acquisition) return normalize-space(string-join($p//tei:placeName/string-join(., """"), ""; ""))",,,,,text,Details of any place(s) named within the provenance or acquisition information within a placeName element.
places,ID(s),"for $p in (//tei:provenance|//tei:acquisition) return string-join(distinct-values($p//tei:placeName/@key), "" "")",,,,,text,"The identifier(s), corresponding to those found in the authority file, given for any place(s) named within the provenance or acquisition information within a placeName element."
places,standard name(s),"for $p in (//tei:provenance|//tei:acquisition) return string-join(distinct-values($p//tei:placeName/@key), "" "")",places,names,index,semi-colon,text,"The standard name, extracted from the authority files, of any place(s) named within the provenance or acquisition information."
places,longitude,"for $p in (//tei:provenance|//tei:acquisition) return string-join(distinct-values($p//tei:placeName/@key), "" "")",places,location,longitude,semi-colon,number,"The geographic latitude, extracted from the authority files, of any place(s) named within the provenance or acquisition information."
places,latitude,"for $p in (//tei:provenance|//tei:acquisition) return string-join(distinct-values($p//tei:placeName/@key), "" "")",places,location,latitude,semi-colon,number,"The geographic longitude, extracted from the authority files, of any place(s) named within the provenance or acquisition information."
places,region,"for $p in (//tei:provenance|//tei:acquisition) return string-join(distinct-values($p//tei:placeName/@key), "" "")",places,location,region,semi-colon,text,"The region, extracted from the authority files, associated with any place(s) named within the provenance or acquisition information."
places,country,"for $p in (//tei:provenance|//tei:acquisition) return string-join(distinct-values($p//tei:placeName/@key), "" "")",places,location,country,semi-colon,text,"The country, extracted from the authority files, associated with any place(s) named within the provenance or acquisition information."