section,heading,xpath,auth_file,auth_section,auth_col,separator,format,comment
metadata,addition UID,"for $a in (//tei:additions/tei:p|//tei:additions/tei:note|//tei:additions[not(tei:p or tei:note)]) return concat($a/ancestor::tei:TEI/tei:teiHeader/tei:fileDesc/tei:publicationStmt/tei:idno[@type=""msID""], ""_addition_"", count($a/preceding::tei:p[parent::tei:additions]|$a/preceding::tei:note[parent::tei:additions]|$a/preceding::tei:additions[not(tei:p or tei:note)]) + 1)",,,,,text,"A unique identifier for the addition, generated by concatenating the identifier given to the manuscript with which the addition is associated with a count of how many addition elements precede the current element in the entry file."
metadata,file URL,"for $a in (//tei:additions/tei:p|//tei:additions/tei:note|//tei:additions[not(tei:p or tei:note)]) return string-join($a/ancestor::tei:TEI/@xml:id, "" "")",,,,,text,"A unique identifier for the catalogue file, given in the xml:id attribute to the TEI root element."
metadata,collection,"for $a in (//tei:additions/tei:p|//tei:additions/tei:note|//tei:additions[not(tei:p or tei:note)]) return string-join($a/ancestor::tei:TEI/tei:teiHeader/tei:fileDesc/tei:publicationStmt/tei:idno[@type=""collection""][not(@subtype=""alt"")]/string-join(.,""""), "" "")",,,,,text,"The collection in which the manuscript is recorded, given in an idno element within the publicationStmt element which has @type ""collection"" and is not an alternative identifier (and therefore has no @subtype with ""alt"")."
metadata,ms ID,"for $a in (//tei:additions/tei:p|//tei:additions/tei:note|//tei:additions[not(tei:p or tei:note)]) return string-join($a/ancestor::tei:TEI/tei:teiHeader/tei:fileDesc/tei:publicationStmt/tei:idno[@type=""msID""][not(@subtype=""alt"")]/string-join(.,""""), "" "")",,,,,text,"The identifier given to the manuscript, given in an idno element within the publicationStmt element which has @type ""msID"" and is not an alternative identifier (and therefore has no @subtype with ""alt"")."
metadata,shelfmark,"for $a in (//tei:additions/tei:p|//tei:additions/tei:note|//tei:additions[not(tei:p or tei:note)]) return string-join($a/ancestor::tei:TEI/tei:teiHeader/tei:fileDesc/tei:sourceDesc/tei:msDesc/tei:msIdentifier/tei:idno[@type=""shelfmark""][not(@subtype=""alt"")]/string-join(.,""""), ""; "")",,,,,text,"The shelfmark given to the manuscript, given in an idno element within the publicationStmt element which has @type ""shelfmark"" and is not an alternative identifier (and therefore has no @subtype with ""alt"")."
metadata,ms type,"for $a in (//tei:additions/tei:p|//tei:additions/tei:note|//tei:additions[not(tei:p or tei:note)]) return string-join($a/(ancestor::tei:msPart[not(@type=('fragment','wrapper','flyleaf'))]/('part'), ancestor::tei:msPart[@type=('fragment','wrapper','flyleaf')]/('fragment'), ancestor::tei:msDesc[not(.//tei:msPart)]/('manuscript'),ancestor::tei:msDesc[.//tei:msPart[not(@type=('fragment','wrapper','flyleaf'))]]/('manuscript-composite'), ancestor::tei:msDesc[.//tei:msPart and not(.//tei:msPart[not(@type=('fragment','wrapper','flyleaf'))])]/('manuscript-with-fragment'))[1], "" "")",,,,,text,"Whether the current row concerns a fragment ('fragment'), a manuscript part ('part'), an entire manuscript ('manuscript'), a manuscript containing parts ('manuscript-composite') or a manuscript containing fragments ('manuscript-with-fragment'). "
metadata,part name,"for $a in (//tei:additions/tei:p|//tei:additions/tei:note|//tei:additions[not(tei:p or tei:note)]) return string-join($a/(ancestor::tei:msPart|ancestor::tei:msDesc)[last()]//tei:idno[@type=""part""][not(@subtype=""alt"")]/string-join(.,""""), "" "")",,,,,text,"The identifier given to the manuscript or manuscript part in an idno element which has @type ""part"" and is not an alternative identifier (and therefore has no @subtype with ""alt"")."
metadata,part ID,"for $a in (//tei:additions/tei:p|//tei:additions/tei:note|//tei:additions[not(tei:p or tei:note)]) return string-join($a/(ancestor::tei:msPart|ancestor::tei:msDesc)[last()]/@xml:id, "" "")",,,,,text,"The identifier given to the manuscript or manuscript part in an xml:id attribute. If the current row is not for a fragment or a manuscript part, this column will be the same as the metadata: ms ID column."
overview,additions,"for $a in (//tei:additions/tei:p|//tei:additions/tei:note|//tei:additions[not(tei:p or tei:note)]) return normalize-space(string-join($a, """"))",,,,,text,"An overview of the current addition, as encoded within the additions element."
locus,locus,"for $a in (//tei:additions/tei:p|//tei:additions/tei:note|//tei:additions[not(tei:p or tei:note)]) return normalize-space(string-join($a//tei:locus[text()]/string-join(.,""""), ""; ""))",,,,,text,"Details of any locus information for this feature encoded within a locus element. When multiple loci are given, they are separated using a semi-colon."
locus,from,"for $a in (//tei:additions/tei:p|//tei:additions/tei:note|//tei:additions[not(tei:p or tei:note)]) return normalize-space(string-join($a//tei:locus/@from, "" ""))",,,,,number,"The folio, page, or membrane reference at which this feature begins, as encoded within the @from attribute to a locus element. Where multiple loci are given, they are separated by a space."
locus,to,"for $a in (//tei:additions/tei:p|//tei:additions/tei:note|//tei:additions[not(tei:p or tei:note)]) return normalize-space(string-join($a//tei:locus/(@to|@from)[last()], "" ""))",,,,,number,"The folio, page, or membrane reference at which this feature ends, as encoded within the @to attribute to a locus element. Where multiple loci are given, they are separated by a space."
people,author name(s),"for $a in (//tei:additions/tei:p|//tei:additions/tei:note|//tei:additions[not(tei:p or tei:note)]) return normalize-space(string-join($a//tei:persName[contains(@role,""aut"")]/string-join(.,""""), ""; ""))",,,,,text,Details of any person(s) named within the additions information within a persName element and identified as an author through an appropriate @role attribute.
people,author ID(s),"for $a in (//tei:additions/tei:p|//tei:additions/tei:note|//tei:additions[not(tei:p or tei:note)]) return normalize-space(string-join(distinct-values($a//tei:persName[contains(@role,""aut"")]/@key), "" ""))",,,,,text,"The identifier(s), corresponding to those found in the authority file, given for any person(s) named within the additions information within a persName element and identified as an author through an appropriate @role attribute."
people,scribe name(s),"for $a in (//tei:additions/tei:p|//tei:additions/tei:note|//tei:additions[not(tei:p or tei:note)]) return normalize-space(string-join($a//tei:persName[contains(@role,""scr"")]/string-join(.,""""), ""; ""))",,,,,text,Details of any person(s) named within the additions information within a persName element and identified as a scribe through an appropriate @role attribute.
people,scribe ID(s),"for $a in (//tei:additions/tei:p|//tei:additions/tei:note|//tei:additions[not(tei:p or tei:note)]) return normalize-space(string-join(distinct-values($a//tei:persName[contains(@role,""scr"")]/@key), "" ""))",,,,,text,"The identifier(s), corresponding to those found in the authority file, given for any person(s) named within the additions information within a persName element and identified as a scribe through an appropriate @role attribute."
people,signer name(s),"for $a in (//tei:additions/tei:p|//tei:additions/tei:note|//tei:additions[not(tei:p or tei:note)]) return normalize-space(string-join($a//tei:persName[contains(@role,""sgn"")]/string-join(.,""""), ""; ""))",,,,,text,Details of any person(s) named within the additions information within a persName element and identified as a signer through an appropriate @role attribute.
people,signer ID(s),"for $a in (//tei:additions/tei:p|//tei:additions/tei:note|//tei:additions[not(tei:p or tei:note)]) return normalize-space(string-join(distinct-values($a//tei:persName[contains(@role,""sgn"")]/@key), "" ""))",,,,,text,"The identifier(s), corresponding to those found in the authority file, given for any person(s) named within the additions information within a persName element and identified as a signer through an appropriate @role attribute."
people,former owner name(s),"for $a in (//tei:additions/tei:p|//tei:additions/tei:note|//tei:additions[not(tei:p or tei:note)]) return normalize-space(string-join($a//tei:persName[contains(@role,""fmo"")]/string-join(.,""""), ""; ""))",,,,,text,Details of any person(s) named within the additions information within a persName element and identified as a former owner through an appropriate @role attribute.
people,former owner ID(s),"for $a in (//tei:additions/tei:p|//tei:additions/tei:note|//tei:additions[not(tei:p or tei:note)]) return normalize-space(string-join(distinct-values($a//tei:persName[contains(@role,""fmo"")]/@key), "" ""))",,,,,text,"The identifier(s), corresponding to those found in the authority file, given for any person(s) named within the additions information within a persName element and identified as a former owner through an appropriate @role attribute."
people,other person name(s),"for $a in (//tei:additions/tei:p|//tei:additions/tei:note|//tei:additions[not(tei:p or tei:note)]) return normalize-space(string-join($a//tei:persName[not(@role)]/string-join(.,""""), ""; ""))",,,,,text,Details of any person(s) named within the additions information within a persName element who is not assigned a role through a @role attribute.
people,other person ID(s),"for $a in (//tei:additions/tei:p|//tei:additions/tei:note|//tei:additions[not(tei:p or tei:note)]) return normalize-space(string-join(distinct-values($a//tei:persName[not(@role)]/@key), "" ""))",,,,,text,"The identifier(s), corresponding to those found in the authority file, given for any person(s) named within the additions information within a persName element who is not assigned a role through a @role attribute."
bibliography,bibl(s),"for $a in (//tei:additions/tei:p|//tei:additions/tei:note|//tei:additions[not(tei:p or tei:note)]) return normalize-space(string-join($a//tei:bibl/string-join(., """"), ""; ""))",,,,,text,"All bibliographic references associated with this feature, as encoded within bibl elements."
bibliography,title(s),"for $a in (//tei:additions/tei:p|//tei:additions/tei:note|//tei:additions[not(tei:p or tei:note)]) return normalize-space(string-join($a//tei:title/string-join(., """"), ""; ""))",,,,,text,"All titles of works associated with this feature, as encoded within title elements."
bibliography,ref(s),"for $a in (//tei:additions/tei:p|//tei:additions/tei:note|//tei:additions[not(tei:p or tei:note)]) return normalize-space(string-join($a//tei:ref/string-join(., """"), ""; ""))",,,,,text,"All references associated with this feature, as encoded within ref elements."
bibliography,ref URI(s),"for $a in (//tei:additions/tei:p|//tei:additions/tei:note|//tei:additions[not(tei:p or tei:note)]) return normalize-space(string-join($a//tei:ref/@target, "" ""))",,,,,text,"URIs for all references associated with this feature, as encoded within @target attributes to ref elements."